<!DOCTYPE html>

<html>
    <head>
        <title>Rock Paper Scissors</title>
        <meta charset="UTF-8"/>
    </head>
    <body>
        <script>
            // Returns a random result of either rock, paper, or scissors.
            function computerPlay(){
                // create random number between 1-3
                let randomInput = Math.floor((Math.random() * 3) + 1);
                
                if(randomInput == 1){
                    return "rock";
                } else if(randomInput == 2){
                    return "paper";
                } else{
                    return "scissors";
                }
            }

            // Plays a single round of Rock Paper Scissors
            function playRound(playerSelection, computerSelection){
                playerSelection = playerSelection.toLowerCase();

                if(playerSelection == computerSelection){
                    return "tie";
                } else{
                    // returns a string based on the correct case for all player inputs
                    switch(playerSelection){
                        case "rock":
                            if(computerSelection == "paper"){
                                return "lose";
                            } else{
                                 return "win";
                            }
                            break;
                        case "paper":
                            if(computerSelection == "scissors"){
                                return "lose";
                            } else{
                                 return "win";
                            }
                                break;
                        case "scissors":
                            if(computerSelection == "rock"){
                              return "lose";
                            } else{
                                 return "win";
                            }
                            break;
                    }
                }
            }

            function game(){
                    // counts number of wins
                    let playerWins = 0;
                    let computerWins = 0;

                    // store player/computer selection
                    let playerSelection;
                    let computerSelection;

                    let numberOfGames = 5

                    // play 5 rounds
                    for(let i = 0; i < numberOfGames; i++){
                        // get computer and user inputs
                        playerSelection = prompt("Choose rock, paper, or scissors: ");
                        computerSelection = computerPlay();

                        // play a round
                        let gameResult = playRound(playerSelection, computerSelection);

                        // print out result of game and increment win count
                        if(gameResult == "tie"){
                            console.log("Tie!");
                        } else if(gameResult == "lose"){
                            console.log("You Lose! " + computerSelection + " beats " + playerSelection)
                            computerWins++;
                        } else{
                            console.log("You Win! " + playerSelection + " beats " + computerSelection)
                            playerWins++;
                        }
                    }

                    // print end result of game
                    if(playerWins == computerWins){
                        console.log("After " + numberOfGames + " games, it was a tie!");
                    } else if(playerWins < computerWins){
                        console.log("After " + numberOfGames + " games, you lost...");
                    } else{
                        console.log("After " + numberOfGames + " games, you won!");
                    }

                    console.log("Overall, you won " + playerWins + " games and lost " + computerWins + " games.");
                }
        </script>
    </body>
</html>